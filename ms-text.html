
<!DOCTYPE html>
<html>
    <head>
        <title>虚拟DOM测试</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="avalon.js"></script>
        <link rel="stylesheet" href="animate.css" type="text/css">
        <script>
            avalon.effect("xxx", {
                leaveClass: "slideOutLeft",
                enterClass: "slideInLeft"

            })
            avalon.effect("yyy", {
                enterClass: "zoomInDown",
                leaveClass: "zoomOutUp"
            })
            var array = []
            var vm = avalon.define({
                $id: "test",
                hide: function () {
                    avalon.effect.remove(this, this.parentNode, function (el) {
                        array.push(el)
                        console.log("已经被移除了", el)
                    })
                },
                add: function () {
                    var el = array.shift()
                    if (el) {
                        avalon.effect.before(el, document.body, function (el) {
                            console.log("添加", el)
                        })
                    }
                }
            })
        </script>
        <style>
            .box{
                display: inline-block;
                width:200px;
                height:200px;
                background-color: #eee;
            }
        </style>
    </head>
    <body ms-controller="test">
        <h1 >测试虚拟DOM</h1>
        <div ms-click="hide" class="animated box" ms-effect="xxx">点我执行动画</div>
        <div ms-click="hide"  class="animated box" ms-effect="yyy">点我执行动画</div>
        <button ms-click="add" type="button">添加元素</button>
    </body>
</html>