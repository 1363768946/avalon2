<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="avalon.js"></script>

    <script>
        var vm = avalon.define({
            $id: "test",
            aaa: "x"
        })

        //添加一个拦截器
        avalon.duplexHooks.limit = {
            get: function(str, data) {
                console.log("change")

                var limit = parseFloat(data.element.getAttribute("data-duplex-limit"))
                if (str.length > limit) {
                    return data.element.value = str.slice(0, limit)
                }
                return str
            }
        }
    </script>
</head>

<body  ms-controller="test">
    <input ms-duplex-limit="aaa" data-duplex-limit="7"/> {{aaa}}
</body>
</html>