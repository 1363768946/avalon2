<!DOCTYPE html>
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="avalon.js"></script>

    </head>
    <body >


        <script>
            var vm = avalon.define({
                $id: "test",
                a: {
                    b: "xxx",
                    "0": 222
                },
                arr: [1, 3, 4]
            })
//     vm.$$watch("a.b", function(a, b){
//         console.log(a, b, "监听a.b")
//     })
//     vm.$$watch("arr.length", function(a, b){
//         console.log(a, b, "监听arr.length")
//     })
//            vm.$$watch("arr.0", function (a, b) {
//                console.log(a, b, "监听arr.0")
//            })
            //  vm.arr.push(5,6,8)


var str = "aaa.1.2.3"

str.replace(/\w+\./g, function(a, b){
    console.log(a, b)
})

            setTimeout(function () {
                //  vm.a.b = 1111
                vm.arr.set(0, 9)
            }, 2000)


        </script>
        <div ms-controller="test">
            <div ms-if="a.0 || 1">111</div>
        </div>

    </body>

</html>