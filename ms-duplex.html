<!DOCTYPE html> 
<html> 
    <head> 
        <meta charset="UTF-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <script src="avalon.js"></script>
        <script>
            function heredoc(fn) {
                return fn.toString()
                        .replace(/^[^\/]+\/\*!?\s?/, '')
                        .replace(/\*\/[^\/]+$/, '')
            }
            avalon.component("ms:dialog", {
                header: "",
                footer: "",
                content: "",
                onClick: function () {
                    console.log(this)
                },
                $template: heredoc(function (vm) {
                    /* 
                     <div class="dialog"> 
                     {{header|html}} 
                     {{content|html}} 
                     {{footer|html}}   
                     </div> 
                     */
                })
            })
            avalon.component("ms:button", {
                $slot: "content",
                content: "",
                onClick: function () {
                    console.log(this)
                },
                $template: heredoc(function (vm) {
                    /* 
                     <button class="ui-button">{{content|html}}</button> 
                     */
                })
            })
            var vm = avalon.define({
                $id: "test",
                a: "这是内容"
            })
   
        </script> 
    </head> 
    <body ms-controller="test"> 
    <ms:dialog id="aaa"> 
        <div slot="header">弹出层的头部</div> 
        <div slot="content"> 
            {{a}} 
          
        </div> 
        <div slot="footer">弹出层的底部</div> 
    </ms:dialog> 
      <ms:button>确定</ms:button>
</body> 
</html> 
