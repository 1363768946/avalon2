<!DOCTYPE html>
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <script src="avalon.js" ></script>

    </head>
    <body>
        <script>
            function expect(a) {
                return {
                    to: {
                        be: function (b) {
                            console.log(a, b, a === b)
                        }
                    }
                }
            }
            function heredoc(fn) {
                return fn.toString().replace(/^[^\/]+\/\*!?\s?/, '').replace(/\*\/[^\/]+$/, '')
            }
            var model = avalon.define({
                $id: "ms-duplex-regexp",
                aaa: {
                    xxx: "444",
                    yyy: "555"
                },
                bbb: "yyy",
                ccc: "text"
            })
            var body = document.body
            var div = document.createElement("div")
            div.innerHTML = heredoc(function () {
                /*
            
                 <input ms-duplex="aaa[bbb]">
                 
                 */
            })
            body.appendChild(div)
            avalon.scan(div, model)

      
        </script>

    </body>
</html>